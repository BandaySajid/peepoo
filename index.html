<!doctype html>
<html>

<head>
  <meta charset="utf-8" />
  <style>
    html,
    body {
      margin: 0;
      padding: 0;
      background: rgba(0, 0, 0, 0.4);
      width: 100vw;
      height: 100vh;
      min-width: 100vw;
      min-height: 100vh;
      max-width: 100vw;
      max-height: 100vh;
      box-sizing: border-box;
    }

    .overlay {
      font-family: system-ui, sans-serif;
      font-size: 12px;
      padding: 4vw 0vw;
      /* Remove side padding to use full width */
      border-radius: 0;
      outline: none;
      background: green;
      color: #181818;
      width: 100vw;
      height: 100vh;
      min-width: 100vw;
      min-height: 100vh;
      max-width: 100vw;
      max-height: 100vh;
      box-sizing: border-box;
      word-break: break-word;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 1;
      -webkit-app-region: drag;
      /* Add box shadow for overlay */
      box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.18), 0 1.5px 6px 0 rgba(0, 0, 0, 0.10);
      border: none;
      /* Support dark mode */
      transition: background 0.2s, color 0.2s, box-shadow 0.2s;
      /* Add subtle text shadow for readability */
      text-shadow: 0 1px 6px rgba(255, 255, 255, 0.7), 0 1px 6px rgba(0, 0, 0, 0.2);
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: stretch;
    }

    @media (prefers-color-scheme: dark) {
      .overlay {
        background: transparent;
        color: #fff;
        border: none;
        /* Add box shadow for dark mode */
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.45), 0 1.5px 6px 0 rgba(0, 0, 0, 0.25);
        text-shadow: 0 1px 8px rgba(0, 0, 0, 0.8), 0 1px 6px rgba(255, 255, 255, 0.1);
      }
    }

    #main-text {
      width: 100%;
      font-size: inherit;
      overflow-wrap: break-word;
      hyphens: auto;
      /* Allow scrolling if text is too long */
      overflow: auto;
      white-space: pre-line;
      /* Remove ellipsis and max-height to allow full text display */
      text-overflow: unset;
      max-height: none;
      /* Add text shadow for readability */
      text-shadow: inherit;
      /* Add padding for scrollbars */
      padding-bottom: 2vw;
      box-sizing: border-box;
      margin: 0;
      padding-left: 0;
      padding-right: 0;
      /* Ensure full width usage */
      flex: 1 1 auto;
      align-self: stretch;
    }

    .hint {
      font-size: clamp(10px, 1.2vw, 14px);
      opacity: 0.6;
      margin-top: 2vw;
      width: 100%;
      text-align: center;
      word-break: break-word;
      user-select: none;
      pointer-events: none;
      /* Add text shadow for readability */
      text-shadow: inherit;
    }

    @media (max-width: 600px) {
      .overlay {
        font-size: clamp(10px, 4vw, 16px);
        padding: 4vw 0vw;
        /* Remove side padding for mobile too */
      }

      .hint {
        font-size: clamp(9px, 2.5vw, 12px);
        margin-top: 3vw;
      }
    }
  </style>
</head>

<body>
  <div class="overlay" id="overlay">
    <span id="main-text" tabindex="0">Stay focused. Build epic stuff ðŸš€</span>
    <div class="hint">Hotkeys: Ctrl/âŒ˜+Shift+T (toggle click-through), Ctrl/âŒ˜+Shift+O (show/hide)</div>
  </div>
  <script>
    window.electronAPI?.hideScreen?.(() => {
      document.documentElement.style.display = 'none';
    });
    window.electronAPI?.showScreen?.(() => {
      console.log('showing screen');
      document.documentElement.style.display = '';
    });
    window.electronAPI?.onUpdateText?.((text) => {
      const mainText = document.getElementById('main-text');
      mainText.textContent = text;
      // Scroll to top in case of long text
      mainText.scrollTop = 0;
    });
  </script>
</body>

</html>